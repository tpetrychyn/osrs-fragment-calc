"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{8826:function(e,t,n){n.r(t),n.d(t,{default:function(){return Re}});var a=n(5893),r=n(7294);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){l(e,t,n[t])}))}return e}function f(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?i(e):t}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return s}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f(this,n)}}var w=function e(t,n,a){o(this,e),l(this,"name",""),l(this,"id",-1),l(this,"description",""),l(this,"setEffects",[]),l(this,"imageUrl",""),l(this,"owned",!0),l(this,"mustInclude",!1),this.name=t,this.id=n,this.description=a,this.imageUrl="https://oldschool.runescape.wiki/images/"+t.replaceAll(" ","_")+".png"},v=function e(t,n,a,r,s,i){var c=this;o(this,e),l(this,"name",""),l(this,"symbol",""),l(this,"description",""),l(this,"counts",[]),l(this,"fragments",void 0),l(this,"imageUrl",""),l(this,"chosen",!1),l(this,"chosenCount",0),this.name=t,this.symbol=n,this.counts=a,this.description=r,this.fragments=s,this.fragments.forEach((function(e){e.setEffects.push(c)})),this.imageUrl="https://oldschool.runescape.wiki/images/"+t.replaceAll(" ","_")+"_detail.png"},x=new w("Alchemaniac",36," Players will receive 15/30/50% extra coins when casting High Level Alchemy on items."),k=new w("Arcane Conduit",6,"Runes and magic weapon charges have a 40/60/90% chance to be saved."),j=new w("Armadylean Decree",18,"When wielding four Armadylean items, enchanted bolt effects have a 25/50/100% increased chance to activate."),C=new w("Bandosian Might",17,"When wielding four Bandosian items, the player's max melee hit is increased by 1/2/4 for every attack speed a weapon has."),S=new w("Barbarian Pest Wars",51,"Reward currency earned for playing the following minigames are increased by x2/x3/x4:"),E=new w("Bottomless Quiver",4,"Ranged ammunition and ranged weapon charges have a 40/60/90% chance to be saved, excluding Chinchompa (weapon)|chinchompas."),P=new w("Catch Of The Day",22,"All types of Fishing activities have a 1 in 300/200/80 chance, per catch, to roll the rare drop table once."),O=new w("Certified Farmer",41,"Farming yields have a 25/50/100% chance to be doubled, and are converted to bank notes upon harvest."),T=new w("Chef's Catch",21,"Players have a 20/35/50% chance of cooking a raw fish upon catching them. Cooking experience is granted, even if players do not have the level required to cook them normally."),N=new w("Chinchonkers",39,"Catching Chinchompa (disambiguation)|chinchompas grant 50/100/100% more Hunter experience. At level 3, players will receive two chinchompas per successful capture."),B=new w("Clued In",49,"The drop rate of scroll boxes from NPCs are increased to 1 in 30/25/15."),F=new w("Deeper Pockets",24,"Players have a 20/50/100% chance to receive double loot when pickpocketing NPCs. This stacks multiplicatively with rogue equipment."),A=new w("Dine & Dash",40,"Players have a 10/20/50% chance to receive an extra piece of cooked food while cooking."),I=new w("Divine Restoration",9,"Players will have their prayer points restored by one every 15/9/3.6 seconds."),R=new w("Dragon On A Bit",33,"Players have a 10/20/40% chance to save the materials used whilst crafting dragonhide armour."),M=new w("Enchanted Jeweler",35,"Each enchantment spell cast will enchant up to 5/10/25 pieces of jewellery, granting the full Magic experience."),_=new w("Golden Brick Road",45,"When a mark of grace appears when training on a Rooftop Agility Course, 4,000/7,000/15,000 coins will appear alongside it."),D=new w("Grave Robber",46,"The amount of hallowed marks received when looting Coffin (Hallowed Sepulchre)|coffins within the Hallowed Sepulchre is increased by 50/150/300%."),U=new w("Homewrecker",26,"Players have a x2/x3/x4 chance of receiving bird nests when chopping trees, and are sent to the bank rather than falling to the ground."),W=new w("Hot On The Trail",27,"Players have a 2/5/10% chance to obtain a scroll box whilst lighting logs via Firemaking."),z=new w("Imcando's Apprentice",34,"Players have a 20/50/75% chance to craft an extra piece of gemmed jewellery, granting Crafting experience for the extra jewellery."),H=new w("Just Druid!",44,"Players will receive 10/20/40% extra Herblore experience for each grimy herb cleaned."),L=new w("Larger Recharger",11,"Players will have their special attack energy restored by 10% every 25/20/10 seconds."),G=new w("Livin' On A Prayer",8,"The drain rate of activated prayers are reduced by 15/30/60%."),q=new w("Message In A Bottle",50,"The chance of receiving clue geodes, clue nest|nests, and Clue bottle|bottles from skilling are increased by x3/x5/x10."),J=new w("Mixologist",43,"Players will have a 25/50/100% chance to mix a 4-dose potion rather than a 3-dose potion, with a 20/50/100% chance to save the secondary ingredient."),K=new w("Molten Miner",30,"If applicable, ores mined have a 20/50/100% chance to be smelted into bars. Smithing experience is granted, even if players do not have the level required to smelt them normally."),Z=new w("Mother's Magic Fossils",53,"The chance of receiving golden nuggets from the Motherlode Mine is increased by x2/x3/x4. The amount of pizazz points received from activities in the Mage Training Arena is increased by x2/x3/x4. The chance of receiving fossils from activities on Fossil Island is increased by x2/x3/x4."),Q=new w("Plank Stretcher",28,"Players will have a 10/20/50% chance to save their planks whilst training Construction."),V=new w("Praying Respects",10,"Remains are automatically buried/scattered, granting 50/100/200% of the usual Prayer experience. League experience multipliers are applied."),$=new w("Pro Tips",38,"Players will receive 30/50/100% more bolt tips per gem whilst making them."),X=new w("Profletchional",37,"Fletching logs and stringing bows grant 30/50/100% more Fletching experience."),Y=new w("Rock Solid",29,"Iron rock|Iron, Sandstone rock|sandstone, and granite rocks have a 25/50/75% chance to not be depleted upon being mined."),ee=new w("Rogues' Chompy Farm",52,"The chance of successfully cracking the wall safe at the end of the Rogues' Den maze is increased by 10/20/40%. Each chompy bird killed will count as 2/3/4 kills when checking chompy kill-count via the ogre bow. The amount of points earned from the Tithe Farm is increased by x2/x3/x4."),te=new w("Rooty Tooty 2x Runeys",47,"Players have a 20/40/80% chance to receive an extra rune for each rune crafted."),ne=new w("Rumple-Bow-String",32,"The Spin Flax spell gives 10/15/27 bow strings instead of the usual 5."),ae=new w("Rune Escape",48,"Players will no longer receive mind (lv-1), body (lv-2), elemental runes (lv-3) when crafting runes at the Ourania Altar."),re=new w("Saradominist Defence",20,"When wielding four Saradominist items, the player's max hit is increased by 2/5/10 if they have taken damage in the last 3.6 seconds."),se=new w("Seedy Business",42,"Players have a 10/25/50% chance to save their seed upon planting it in a farming patch."),ie=new w("Slash & Burn",25,"Players have a 20/35/50% chance of burning logs upon chopping them. Firemaking experience is granted, even if players do not have the level required to burn them normally."),oe=new w("Slay 'n' Pay",16,"Players will earn 10/20/50% more slayer reward points upon completing a slayer task."),ce=new w("Slay All Day",14,"Players will heal 1/2/3 hitpoints for every monster killed as part of a slayer task."),le=new w("Smithing Double",31,"Players have a 5/15/30% chance to smith an extra item when smithing items at an anvil, granting Smithing experience for the extra item. Extra items will drop to the floor if players have no inventory space."),he=new w("Smooth Criminal",23,"The chance to successfully pickpocket NPCs is increased by 15/25/50%. At level 2, players will no longer take damage when Stun (status)|stunned by a failed pickpocket attempt."),ue=new w("Special Discount",12,"Special attacks whose energy cost is greater than 50/40/25% will cost 50/40/25% energy instead."),fe=new w("Superior Tracking",15,"Superior slayer monsters have a 1 in 150/100/30 chance of spawning during a slayer task for eligible slayer monsters."),de=new w("Tactical Duelist",2,"Melee weapon charges have a 20/40/80% chance to be saved."),me=new w("Thrall Damage",7,"The max hit of thralls are increased by x2/x3/x4. Damage is rounded up."),pe=new w("Unholy Ranger",3,"The player's accuracy for ranged weapons is increased by 30/60/100% when they have no prayer points remaining. Excludes the dwarf multicannon."),ge=new w("Unholy Warrior",1,"The player's accuracy for melee weapons is increased by 12/20/30% when they have no prayer points remaining."),be=new w("Unholy Wizard",5,"The player's accuracy for magic attacks is increased by 40/70/125% when they have no prayer points remaining."),ye=new w("Venomaster",13,"The player's attacks have a chance to inflict poison that starts at 3/5/7 damage. Players will gain poison immunity at level 2, and venom immunity at level 3."),we=new w("Zamorakian Sight",19,"When wielding four Zamorakian items, the player's accuracy for magic attacks is increased by 50/125/250%."),ve=new v("Absolute Unit","unit",[2,3],"<b>[2]</b> Players take 30% less damage from monsters, with 50% of post-reduction damage reflected back to the attacker. <br/><br/> <b>[3]</b> Players take 50% less damage from monsters, with 100% of post-reduction damage reflected back to the attacker.",new Set([R,ae,fe,j,I,de,re,ye])),xe=new v("The Alchemist","alch",[3],"<b>[3]</b> When cooking food, making jugs of wine, cleaning grimy herbs, or mixing potions, all items in the player's inventory will be processed at once and reward the full amount of experience.",new Set([_,A,ce,O,U,J,H])),ke=new v("Chain Magic","chain",[2,3],"<b>[2]</b> Players have a 30% chance to perform another magic attack after a successful hit with magic. <br/><br/><b>[3]</b> Players have a 60% chance to perform another magic attack after a successful hit with magic.",new Set([me,be,we,Z,F,te,W,z])),je=new v("The Craftsman","craft",[3],"<b>[3]</b> When smelting ores, smithing bars and cannonballs, crafting with leather, glass, uncut gems, pottery, battlestaves, spinning flax and wool, fletching logs and cutting bolt tips, all items in the player's inventory will be processed at once and reward the full amount of experience.",new Set([ne,R,z,D,X,$])),Ce=new v("Double Tap","double",[2,3],"<b>[2]</b> Players have a 30% chance to perform another ranged attack after a successful hit with ranged. <br/><br/> <b>[3]</b> Players have a 60% chance to perform another ranged attack after a successful hit with ranged.",new Set([le,ne,ee,pe,j,N,$])),Se=new v("Drakan's Touch","drakans",[2,3],"<b>[2]</b> Successful hits have a 50% chance of restoring the player's hitpoints by 5% of the damage dealt. <br/><br/> <b>[3]</b> Successful hits have a 50% chance of restoring the player's hitpoints by 10% of the damage dealt.",new Set([be,we,B,pe,V,L,ue])),Ee=new v("Endless Knowledge","endless",[3],"<b>[3]</b> Players receive an arcane grimoire from The Sage, which allows the ability to freely switch spellbooks anywhere.",new Set([k,me,M,x,Q,Z])),Pe=new v("Fast Metabolism","fast",[2],"<b>[2]</b> Hitpoint regeneration is increased by x4.",new Set([D,Y,C,L,W,ye])),Oe=new v("Greedy Gatherer","greedy",[2,3],"<b>[2]</b> Players will receive double the resources (with full experience) from Fishing, Woodcutting, Mining, and Farming. <br/><br/> <b>[3]</b> Players will receive triple the resources (with full experience) from Fishing, Woodcutting, Mining, and Farming.",new Set([q,K,Y,O,T,ie,H])),Te=new v("Knife's Edge","knifes",[2,3],"<b>[2]</b> Players will deal 0.3% additional damage for every hitpoint missing.<br/><br/> <b>[3]</b> Players will deal 0.6% additional damage for every hitpoint missing.",new Set([S,q,ce,E,G,V,ge,re])),Ne=new v("Last Recall","last",[4],"<b>[4]</b> Players receive a crystal of memories from The Sage, which allows them to teleport themselves back to the location where their most recent teleport occurred, with some caveats regarding its usage.",new Set([M,ae,B,oe,fe,N,U,X,te,he])),Be=new v("Personal Banker","bank",[2,3],"<b>[2]</b> Resources obtained from Fishing, Woodcutting, Mining, and Farming have a 50% chance to be deposited directly to the player's bank. <br/><br/> <b>[3]</b> Resources obtained from Fishing, Woodcutting, Mining, and Farming are deposited directly to the player's bank.",new Set([le,x,K,se,P,F])),Fe=new v("Trailblazer","trail",[3],"<b>[3]</b> Players receive a portable waystone from The Sage, which can teleport to other waystones.",new Set([k,_,E,se,T,he,ge])),Ae=new v("Twin Strikes","twin",[2,3],"<b>[2]</b> Players have a 30% chance to perform another melee attack after a successful hit with melee. <br/><br/> <b>[3]</b> Players have a 60% chance to perform another melee attack after a successful hit with melee.",new Set([S,oe,I,G,de,C,ue])),Ie=new v("Unchained Talent","talent",[3],"<b>[3]</b> All non-combat skills are permanently boosted by +8. This boost is not limited to unlocked skills.",new Set([Q,ee,A,P,ie,J]));Ne.imageUrl="https://oldschool.runescape.wiki/images/Last_Recall_%28Shattered_Relics%29_detail.png";var Re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(h,e);var t,n,r,s=y(h);function h(){var e;return o(this,h),l(i(e=s.apply(this,arguments)),"state",{numSlots:7,fragments:[x,k,j,C,S,E,P,O,T,N,B,F,A,I,R,M,_,D,U,W,z,H,L,G,q,J,K,Z,Q,V,$,X,Y,ee,te,ne,ae,re,se,ie,oe,ce,le,he,ue,fe,de,me,pe,ge,be,ye,we],setEffects:[ve,xe,ke,je,Ce,Se,Ee,Pe,Oe,Te,Ne,Be,Fe,Ae,Ie],possibleBuild:null,buildPrompt:"Please select some set effects.",sharedBuild:!1,exportedBuild:!1}),l(i(e),"fragmentMustIncludeChanged",(function(t){e.setState({fragments:p(e.state.fragments.slice(0,t)).concat([Object.assign(e.state.fragments[t],{mustInclude:!e.state.fragments[t].mustInclude})],p(e.state.fragments.slice(t+1)))},e.computeCombination)})),l(i(e),"onFragmentInBuildClicked",(function(t){var n=e.state.fragments.findIndex((function(e){return e.name==t.name}));e.fragmentOwnedChanged(n)})),l(i(e),"fragmentOwnedChanged",(function(t){e.setState({fragments:p(e.state.fragments.slice(0,t)).concat([Object.assign(e.state.fragments[t],{owned:!e.state.fragments[t].owned})],p(e.state.fragments.slice(t+1)))},e.computeCombination)})),l(i(e),"clickedSetCount",(function(t,n){var a=e.state.setEffects[t],r=a.chosenCount!=n||!a.chosen,s=p(e.state.setEffects.slice(0,t)).concat([Object.assign(e.state.setEffects[t],{chosen:r,chosenCount:n})],p(e.state.setEffects.slice(t+1)));e.setState({setEffects:s},e.computeCombination)})),l(i(e),"clearAllSetsClicked",(function(){e.state.setEffects.forEach((function(e){return e.chosen=!1})),e.setState({setEffects:e.state.setEffects,buildPrompt:"Please select some set effects.",possibleBuild:null})})),l(i(e),"clearAllFragmentsClicked",(function(){e.state.fragments.forEach((function(e){e.owned=!0,e.mustInclude=!1})),e.setState({fragments:e.state.fragments},e.computeCombination)})),l(i(e),"setClicked",(function(t){var n=e.state.setEffects[t];if(n.counts.length>1){var a,r;n.chosen?n.chosenCount==n.counts[0]?(a=n.counts[1],r=!0):r=!1:(a=n.counts[0],r=!0);var s=p(e.state.setEffects.slice(0,t)).concat([Object.assign(e.state.setEffects[t],{chosen:r,chosenCount:a})],p(e.state.setEffects.slice(t+1)));e.setState({setEffects:s},e.computeCombination)}else{var i=p(e.state.setEffects.slice(0,t)).concat([Object.assign(e.state.setEffects[t],{chosen:!n.chosen,chosenCount:n.counts[0]})],p(e.state.setEffects.slice(t+1)));e.setState({setEffects:i},e.computeCombination)}})),l(i(e),"onTierChanged",(function(t){e.setState({numSlots:parseInt(t.target.value)},e.computeCombination)})),l(i(e),"onShareClicked",(function(){var t=[],n=[];e.state.fragments.forEach((function(e){e.owned||t.push(e.id),e.mustInclude&&n.push(e.id)}));var a=[];e.state.setEffects.forEach((function(e){if(e.chosen){var t=e.symbol+"-"+e.chosenCount;a.push(t)}}));var r=u({tier:e.state.numSlots},t.length>0&&{notOwned:t},n.length>0&&{mustInclude:n},a.length>0&&{setEffects:a}),s=new URLSearchParams(r);window.dataLayer.push({event:"click-share",urlParams:s});var i=window.location.origin+window.location.pathname+"?"+s.toString();navigator.clipboard.writeText(i),e.setState({sharedBuild:!0})})),l(i(e),"onExportClicked",(function(){var t=[];e.state.possibleBuild.forEach((function(e){return t.push(e.name)})),navigator.clipboard.writeText(JSON.stringify(t)),e.setState({exportedBuild:!0})})),e}return t=h,(n=[{key:"computeCombination",value:function(){var e=this,t=function(t){if(0==i[t])return"continue";var n=e.state.setEffects.filter((function(e){return e.name==t}))[0],a=!0,r=!1,s=void 0;try{for(var c,l=function(e,n){var a=n.value;return a.owned?o.find((function(e){return e.id==a.id||0==i[t]}))?"continue":(o.push(a),void(i[t]-=1)):"continue"},h=n.fragments[Symbol.iterator]();!(a=(c=h.next()).done);a=!0)l(0,c)}catch(u){r=!0,s=u}finally{try{a||null==h.return||h.return()}finally{if(r)throw s}}},n=new Set,a=this.state.setEffects.filter((function(e){return e.chosen}));if(0!=a.length)if(a.length>7)this.setBuild(null,"Cannot have more than 7 sets.");else{a.forEach((function(e){p(e.fragments).filter((function(e){return e.owned})).forEach((function(e){n.add(e)}))}));var r=new Set(this.state.fragments.filter((function(e){return e.mustInclude}))),s=this.state.numSlots;if(r.size>s)this.setBuild(null,"Cannot include more fragments than there are slots available.");else{var i={};a.forEach((function(e){i[e.name]=e.chosenCount}));var o=p(r);r.forEach((function(e){return e.setEffects.forEach((function(e){e.name in i&&(i[e.name]=Math.max(0,i[e.name]-1))}))}));var c=0;for(var l in i)c+=i[l];if(0!=c){o=[];var h=p(n).filter((function(e){return!e.mustInclude&&a.find((function(t){return t==e.setEffects[0]}))&&a.find((function(t){return t==e.setEffects[1]}))}));if(h.length>0){var u=this.testDoubleFragments(h,r,i,c);if(o=u.bestFragments,0==(c=u.sumFragmentsRemaining))return void this.setBuild(o)}if(c>this.state.numSlots-o.length-r.size)this.setBuild(null,"There are no possible combinations");else{for(var f in o.forEach((function(e){return e.setEffects.forEach((function(e){e.name in i&&(i[e.name]=Math.max(0,i[e.name]-1))}))})),o=p(o).concat(p(r)),i)t(f);Object.values(i).every((function(e){return 0==e}))?this.setBuild(o):this.setBuild(null,"There are no possible combinations.")}}else this.setBuild(o)}}else this.setBuild(null,"Please select some set effects.")}},{key:"setBuild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";null!=e&&e.sort((function(e,t){return e.id-t.id})),this.setState({possibleBuild:e,buildPrompt:t,sharedBuild:!1,exportedBuild:!1})}},{key:"testDoubleFragments",value:function(e,t,n,a){for(var r=[],s=1;s<this.state.numSlots+1-t.size;s++){var i=this.k_combinations(e,s);for(var o in i){var c=i[o],l=Object.assign({},n);c.forEach((function(e){return e.setEffects.forEach((function(e){e.name in l&&(l[e.name]=Math.max(0,l[e.name]-1))}))}));var h=0;for(var u in l)h+=l[u];if(0==h)return{bestFragments:p(t).concat(p(c)),sumFragmentsRemaining:0};h<a&&(a=h,r=p(c))}}return{bestFragments:r,sumFragmentsRemaining:a}}},{key:"k_combinations",value:function(e,t){var n,a,r,s,i;if(t>e.length||t<=0)return[];if(t==e.length)return[e];if(1==t){for(r=[],n=0;n<e.length;n++)r.push([e[n]]);return r}for(r=[],n=0;n<e.length-t+1;n++)for(s=e.slice(n,n+1),i=this.k_combinations(e.slice(n+1),t-1),a=0;a<i.length;a++)r.push(s.concat(i[a]));return r}},{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search),t=e.get("notOwned");if(t){var n=this;t.split(",").map(Number).forEach((function(e){var t=n.state.fragments.find((function(t){return t.id==e}));t&&(t.owned=!1)}))}var a=e.get("mustInclude");if(a){var r=this;a.split(",").map(Number).forEach((function(e){var t=r.state.fragments.find((function(t){return t.id==e}));t&&(t.mustInclude=!0)}))}var s=this.state.numSlots,i=e.get("tier");i&&(s=parseInt(i));var o=e.get("setEffects");if(o){var c=this;o.split(",").forEach((function(e){var t=m(e.split("-"),2),n=t[0],a=t[1],r=c.state.setEffects.find((function(e){return e.symbol==n}));r&&(r.chosen=!0,r.chosenCount=parseInt(a))}))}(a||t||i||o)&&window.dataLayer.push({event:"load-share",notOwned:t,mustInclude:a,setEffects:o,tierParam:i}),this.setState({fragments:this.state.fragments,numSlots:s,setEffects:this.state.setEffects},this.computeCombination)}},{key:"render",value:function(){var e=this;return(0,a.jsxs)("div",{className:"component-app",children:[(0,a.jsxs)("div",{className:"pure-u-1 min-height-145",children:[(0,a.jsx)("h1",{className:"float-left",children:"Possible Build"}),(0,a.jsx)("p",{className:"float-left clear-button",children:(0,a.jsx)("button",{onClick:this.onShareClicked,className:"button-xsmall pure-button",disabled:!this.state.possibleBuild||this.state.sharedBuild,children:this.state.sharedBuild?"Copied to clipboard":"Share"})}),(0,a.jsx)("p",{className:"float-left clear-button",children:(0,a.jsx)("button",{onClick:this.onExportClicked,className:"button-xsmall pure-button",disabled:!this.state.possibleBuild||this.state.exportedBuild,children:this.state.exportedBuild?"Copied to clipboard":"Export"})}),(0,a.jsx)("p",{className:"clear",children:"Click to exclude fragments. Re-enable them at the bottom of the page."}),(0,a.jsxs)("h3",{children:[(0,a.jsx)("label",{htmlFor:"multi-state",children:"Tier\xa0"}),(0,a.jsxs)("select",{id:"multi-state",className:"pure-input-1",value:this.state.numSlots,onChange:this.onTierChanged,children:[(0,a.jsx)("option",{children:"1"}),(0,a.jsx)("option",{children:"2"}),(0,a.jsx)("option",{children:"3"}),(0,a.jsx)("option",{children:"4"}),(0,a.jsx)("option",{children:"5"}),(0,a.jsx)("option",{children:"6"}),(0,a.jsx)("option",{children:"7"})]})]}),(0,a.jsx)("div",{className:"center-horizontal",id:"build",children:this.state.possibleBuild?this.state.possibleBuild.map((function(t,n){return(0,a.jsxs)("div",{className:"float-left mr-2 mb-10",onClick:function(){return e.onFragmentInBuildClicked(t)},children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("img",{src:t.imageUrl,height:"50px"}),(0,a.jsx)("div",{className:"text",children:t.name})]}),(0,a.jsx)("div",{className:"text-center",children:Array.from(t.setEffects.values()).map((function(e){return(0,a.jsx)("img",{src:e.imageUrl,height:"30px",className:"set-mini"},e.name)}))})]},t.name)})):(0,a.jsx)("h3",{children:this.state.buildPrompt})})]}),(0,a.jsxs)("div",{className:"pure-u-1",children:[(0,a.jsx)("h1",{children:"Set Effects"}),(0,a.jsxs)("p",{children:["Click to enable/disable ",(0,a.jsx)("button",{onClick:this.clearAllSetsClicked,className:"button-xsmall pure-button mt--20",children:"Clear All"})]}),this.state.setEffects.map((function(t,n){return(0,a.jsxs)("div",{className:"set-effect pointer",children:[(0,a.jsx)("img",{onClick:function(){return e.setClicked(n)},className:t.chosen?"":"grayscale",src:t.imageUrl,height:"60px"}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{onClick:function(){return e.setClicked(n)},children:t.name}),t.counts.map((function(r){return(0,a.jsx)("button",{onClick:function(){return e.clickedSetCount(n,r)},className:"pure-u-1-2 text-center pointer pure-button ".concat(t.chosen&&t.chosenCount==r?"chosen":""),children:r},r)}))]},t.name)}))]}),(0,a.jsxs)("div",{className:"pure-u-1 center-horizontal",children:[(0,a.jsx)("h1",{className:"float-left",children:"Fragments"}),(0,a.jsx)("p",{className:"float-left clear-button",children:(0,a.jsx)("button",{onClick:this.clearAllFragmentsClicked,className:"button-xsmall pure-button",children:"Reset All"})}),(0,a.jsx)("div",{className:"clear"}),(0,a.jsx)("div",{className:"float-left mr-5",children:(0,a.jsxs)("table",{className:"pure-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"min-width-240",children:"Fragment"}),(0,a.jsx)("th",{children:"Owned"}),(0,a.jsx)("th",{children:"Must Include"})]})}),(0,a.jsx)("tbody",{children:this.state.fragments.slice(0,26).map((function(t,n){return(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"center-vertical cursor-default","data-tip":!0,"data-for":"fragment-info",onMouseOver:function(){return e.props.onHoveredFragmentChanged(t)},children:[(0,a.jsx)("img",{src:t.imageUrl,height:"30px"}),(0,a.jsx)("span",{children:t.name})]}),(0,a.jsx)("td",{onClick:function(){return e.fragmentOwnedChanged(n)},className:"text-center",children:(0,a.jsx)("input",{type:"checkbox",checked:t.owned,readOnly:!0})}),(0,a.jsx)("td",{onClick:function(){return e.fragmentMustIncludeChanged(n)},className:"text-center",children:(0,a.jsx)("input",{type:"checkbox",checked:t.mustInclude,readOnly:!0})})]},t.name)}))})]})}),(0,a.jsx)("div",{className:"float-left mb-10",children:(0,a.jsxs)("table",{className:"pure-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"min-width-240",children:"Fragment"}),(0,a.jsx)("th",{children:"Owned"}),(0,a.jsx)("th",{children:"Must Include"})]})}),(0,a.jsx)("tbody",{children:this.state.fragments.slice(26).map((function(t,n){return(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"center-vertical cursor-default","data-tip":!0,"data-for":"fragment-info",onMouseOver:function(){return e.props.onHoveredFragmentChanged(t)},children:[(0,a.jsx)("img",{src:t.imageUrl,height:"30px"}),(0,a.jsx)("span",{children:t.name})]}),(0,a.jsx)("td",{onClick:function(){return e.fragmentOwnedChanged(26+n)},className:"text-center",children:(0,a.jsx)("input",{type:"checkbox",checked:t.owned,readOnly:!0})}),(0,a.jsx)("td",{onClick:function(){return e.fragmentMustIncludeChanged(26+n)},className:"text-center",children:(0,a.jsx)("input",{type:"checkbox",checked:t.mustInclude,readOnly:!0})})]},t.name)}))})]})}),(0,a.jsxs)("p",{className:"clear pt-10",children:["Created by /u/shockz13. Huge thanks to /u/Profesor_Caos for searching algorithm. Source code: ",(0,a.jsx)("a",{href:"https://github.com/tpetrychyn/osrs-fragment-calc",children:"Github"})]})]})]})}}])&&c(t.prototype,n),r&&c(t,r),h}(r.Component)}}]);